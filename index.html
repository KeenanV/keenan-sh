<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keenan Van Deusen</title>
  <style>
      body,
      html {
          height: 100%;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
          overflow-x: hidden;
      }

      body {
          background-image: url('background.jpg');
          /* Replace with your image */
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-attachment: fixed;
      }

      .container {
          min-height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 20px;
          box-sizing: border-box;
      }

      .content {
          background-color: #f5f3e5;
          border-radius: 20px;
          padding: 30px;
          text-align: center;
          max-width: 400px;
          width: 100%;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
          max-height: 90vh;
          overflow-y: auto;
      }

      .profile-pic {
          width: 185px;
          height: 185px;
          border-radius: 20%;
          margin-bottom: 10px;
          box-shadow: 0 5px 10px rgba(255, 255, 255, 0.1);
          border: 3px solid #444;
      }

      .name {
          color: #000;
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 8px;
      }

      .title {
          color: #544f56;
          font-size: 20px;
          margin-bottom: 20px;
      }

      .link-button {
          display: flex;
          align-items: center;
          background-color: #111111;
          color: #fff;
          padding: 15px;
          margin: 20px 0;
          border-radius: 10px;
          text-decoration: none;
          font-size: 18px;
          transition: all 0.1s ease;
          box-shadow: 5px 8px #8607ce;
          border: none;
          cursor: pointer;
      }

      .link-button:hover {
          transform: translateY(-2px);
          box-shadow: 7px 10px #8607ce;
          background-color: #222222;
      }

      .link-button:active {
          transform: translateY(3px);
          box-shadow: 0 0 #8607ce;
      }

      .link-button i {
          margin-right: 15px;
          font-size: 20px;
          width: 24px;
          text-align: center;
      }

      .social-icons {
          margin-top: 30px;
      }

      .social-icons a {
          color: #544f56;
          font-size: 24px;
          margin: 0 10px;
          text-decoration: none;
          transition: all 0.2s ease;
      }

      .social-icons a:hover {
          transform: scale(1.2);
          color: #939393;
      }

      .dialog {
          display: none;
          position: fixed;
          z-index: 2000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
      }

      .dialog-content {
          background-color: #f5f3e5;
          margin: 15% auto;
          padding: 20px;
          border: 1px solid #888;
          width: 80%;
          max-width: 500px;
          border-radius: 10px;
          box-sizing: border-box;
      }

      .dialog-content h2 {
          color: #333;
          margin-bottom: 20px;
          margin-top: 5px;
          text-align: center;
          font-size: 28px;
          font-weight: 900;
      }

      .dialog-content form {
          display: flex;
          flex-direction: column;
      }

      .dialog-content input,
      .dialog-content textarea {
          width: 100%;
          padding: 10px;
          margin-bottom: 15px;
          border: none;
          border-radius: 5px;
          box-sizing: border-box;
          transition: all 0.1s ease;
          background-color: #111111;
          color: #fff;
          box-shadow: 3px 5px #8607ce;
      }

      /* Style for the placeholder text */
      .dialog-content input::placeholder,
      .dialog-content textarea::placeholder {
          color: #888; /* Light grey color for placeholder text */
      }

      @keyframes clickEffect {
          0% {
              transform: translateY(-2px);
          }
          50% {
              transform: translateY(3px);
              box-shadow: 0 0 #8607ce;
          }
          100% {
              transform: translateY(-2px);
              box-shadow: 5px 8px #0ba106;
          }
      }

      .dialog-content input:hover,
      .dialog-content textarea:hover {
          transform: translateY(-2px);
          outline: none;
          border: none;
          box-shadow: 5px 8px #8607ce;
      }

      /* Active and Focus styles combined */
      .dialog-content input:active,
      .dialog-content textarea:active,
      .dialog-content input:focus,
      .dialog-content textarea:focus {
          outline: none;
          animation: clickEffect 0.3s ease forwards;
      }

      /* Ensure hover doesn't interfere with focus state */
      .dialog-content input:hover:focus,
      .dialog-content textarea:hover:focus {
          transform: translateY(-2px);
          box-shadow: 5px 8px #0ba106;
      }

      .dialog-content textarea {
          height: 200px;
      }

      .dialog-buttons {
          text-align: center;
          margin-top: 15px;
          margin-bottom: 10px;
      }

      .dialog-buttons button {
          background-color: #111111;
          color: #fff;
          padding: 10px 20px;
          margin: 0 20px;
          border-radius: 5px;
          text-decoration: none;
          font-size: 18px;
          font-weight: bold;
          transition: all 0.1s ease;
          box-shadow: 3px 5px #8607ce;
          border: none;
          cursor: pointer;
      }

      .dialog-buttons button:hover {
          transform: translateY(-2px);
          box-shadow: 5px 8px #8607ce;
          background-color: #222222;
      }

      .dialog-buttons button:active {
          transform: translateY(3px);
          box-shadow: 0 0 #8607ce;
      }

      .dialog-buttons button[type="submit"] {
          color: rgb(11, 147, 11);
      }

      .dialog-buttons button[type="button"] {
          color: rgb(219, 0, 0);
      }

      .projects-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          transition: background-color 0.3s ease;
      }

      .projects-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 50px;
          padding: 20px;
          max-width: 80%;
          position: relative;
          z-index: 1001;
      }

      .project-square {
          width: 250px;
          height: 250px;
          position: relative;
          z-index: 1;
          border-radius: 40px;
          background-color: #111111;
          color: #fff;
          cursor: pointer;
          box-shadow: 5px 8px #8607ce;
          transition: all 0.1s ease, transform 0.1s ease;
          transform-style: preserve-3d;
      }

      .project-square::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.7);
          border-radius: 40px;
          box-shadow: 5px 8px #450368;
          opacity: 0;
          transition: opacity 0.3s ease, all 0.1s ease, transform 0.1s ease;
          pointer-events: none;
      }

      .project-square.darkened::after {
          opacity: 1;
      }

      .project-square.darkened:hover::after {
          box-shadow: 7px 10px #450368;
      }

      .project-square.darkened:active::after {
          transform: translateY(3px);
          box-shadow: 0 0 #450368;
      }

      .project-square:hover {
          transform: translateY(-5px) rotateY(10deg);
          box-shadow: 7px 10px #8607ce;
      }

      .project-square:active {
          transform: translateY(3px);
          box-shadow: 0 0 #8607ce;
      }

      .project-square.flipped {
          transition: transform 0.6s ease;
          transform: rotateY(180deg) scale(2);
          z-index: 1003;
          box-shadow: none;
      }

      .project-square.flipped::after {
          opacity: 0;
      }

      .darkened {
          background-color: rgba(0, 0, 0, 0.8);
      }

      .project-square-front, .project-square-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          display: flex;
          flex-direction: column; /* Stack items vertically */
          justify-content: center;
          align-items: center;
          font-weight: normal;
          padding: 20px; /* Add padding for content */
          box-sizing: border-box; /* Include padding in width and height */
      }

      .project-square-back {
          border-radius: 20px;
          transform: rotateY(180deg);
          background-color: #222222;
          text-align: center;
          justify-content: flex-start; /* Align items to the top */
      }

      .project-square-back h2 {
          /* Space between header and description */
          margin: 0 0 10px;
          font-size: 1.5em;
          font-weight: bold;
      }

      .project-square-back p {
          margin: 0;
          font-size: 1em;
          line-height: 1.5;
      }

      .slide-out {
          animation: slideOut 0.5s forwards;
      }

      .slide-in {
          animation: slideIn 0.5s forwards;
      }

      @keyframes slideOut {
          0% {
              transform: translateX(0);
              opacity: 1;
          }
          100% {
              transform: translateX(-100%);
              opacity: 0;
          }
      }

      @keyframes slideIn {
          0% {
              transform: translateX(100%);
              opacity: 0;
          }
          100% {
              transform: translateX(0);
              opacity: 1;
          }
      }

      @media screen and (max-height: 500px) {
          .container {
              align-items: flex-start;
          }

          .content {
              margin-top: 20px;
              margin-bottom: 20px;
          }

          .profile-pic {
              width: 80px;
              height: 80px;
          }

          .name {
              font-size: 20px;
          }

          .title {
              font-size: 14px;
          }

          .link-button {
              padding: 10px;
              font-size: 16px;
          }
      }
  </style>
  <script src="https://kit.fontawesome.com/92164d8d93.js"
          crossorigin="anonymous"></script>
</head>

<body>
<div class="container">
  <div class="content">
    <img src="profile.png" alt="Keenan Van Deusen" class="profile-pic">
    <div class="name">Keenan Van Deusen</div>
    <div class="title">Security Engineer</div>
    <a href="#" class="link-button" id="projectsButton"
       data-action="projects"><i class="fas fa-code-branch"></i>Projects</a>
    <a href="https://www.linkedin.com/in/keenanvandeusen" class="link-button"><i
        class="fas fa-user"></i>About
      Me</a>
    <a href="#" class="link-button" data-action="contact"><i
        class="fas fa-envelope"></i>Get In Touch</a>
    <div class="social-icons">
      <a href="https://x.com/keenanvandeusen"><i
          class="fab fa-x-twitter"></i></a>
      <a href="https://signal.me/#eu/7dIHP7z5uEaknjV_JLLDN3F-TfsQTmj14SW2NIpcVGaJB8xZHgFLfpAIrrj0Illl"><i
          class="fab fa-signal-messenger"></i></a>
      <a href="https://www.linkedin.com/in/keenanvandeusen"><i
          class="fab fa-linkedin"></i></a>
    </div>
  </div>
</div>
<div id="contactDialog" class="dialog">
  <div class="dialog-content">
    <h2>Get in touch</h2>
    <form id="contactForm">
      <label for="name"></label><input type="text" id="name"
                                       placeholder="name" required>
      <label for="email"></label><input type="email" id="email"
                                        placeholder="email" required>
      <label for="message"></label><textarea id="message"
                                             placeholder="message"
                                             required></textarea>
      <div class="dialog-buttons">
        <button type="button" id="cancelButton">cancel</button>
        <button type="submit">send</button>
      </div>
    </form>
  </div>
</div>
<div class="projects-container" style="display: none;">
  <div class="overlay" style="display: none;"></div>
  <div class="projects-grid">
    <!-- Project squares will be added here dynamically -->
  </div>
</div>
<script>
  const projectsButton = document.getElementById('projectsButton');
  const getInTouchButton = document.querySelector(
      '.link-button[data-action="contact"]');
  const contactDialog = document.getElementById('contactDialog');
  const cancelButton = document.getElementById('cancelButton');
  const contactForm = document.getElementById('contactForm');
  const mainContent = document.querySelector('.content');
  const projectsContainer = document.querySelector('.projects-container');
  const projectsGrid = document.querySelector('.projects-grid');
  const projectsData = {
    "Project 1": {
      name: "Bash Bunny Persistent Reverse Shell",
      description: "Wrote attacks for Windows and macOS that used NetCat to launch persistent reverse shells using a Bash Bunny by Hak5.",
      link: "https://www.github.com/KeenanV/"
    },
    "Project 2": {
      name: "LinkedIn Scraper + Graph Database",
      description: "Scraped data from LinkedIn using Selenium in Python to collect 1st and 2nd degree connections plus their work history and compile it all into a neo4j graph database",
      link: "https://www.github.com/KeenanV/"
    },
    "Project 3": {
      name: "Project 3",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
    "Project 4": {
      name: "Project 4",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
    "Project 5": {
      name: "Project 5",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
    "Project 6": {
      name: "Project 6",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
    "Project 7": {
      name: "Project 7",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
    "Project 8": {
      name: "Project 8",
      description: "Soon to add a description.",
      link: "https://www.github.com/KeenanV"
    },
  }

  console.log("Get in Touch button:", getInTouchButton);
  console.log("Contact dialog:", contactDialog);

  function switchToProjects() {
    mainContent.classList.remove('slide-in');
    mainContent.classList.add('slide-out');
    setTimeout(() => {
      mainContent.style.display = 'none';
      projectsContainer.style.display = 'flex';
      projectsContainer.classList.remove('slide-out');
      projectsContainer.classList.add('slide-in');
      loadProjects();
    }, 500);
  }

  function switchToMain() {
    projectsContainer.classList.remove('slide-in');
    projectsContainer.classList.add('slide-out');
    setTimeout(() => {
      projectsContainer.style.display = 'none';
      mainContent.style.display = 'block';
      mainContent.classList.remove('slide-out');
      mainContent.classList.add('slide-in');
      resetMainPage();
    }, 500);
  }

  function resetMainPage() {
    // Reset any state that might have been changed
    document.body.style.overflow = '';
    contactDialog.style.display = 'none';
    document.body.style.backgroundColor = '';
  }

  document.addEventListener('click', function (e) {
    if (e.target.closest('.link-button')) {
      e.preventDefault();
      const action = e.target.closest('.link-button').dataset.action;

      if (action === 'contact') {
        console.log("Get in Touch button clicked");
        contactDialog.style.display = 'block';
        document.body.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
      } else if (action === 'projects') {
        console.log("Projects button clicked");
        switchToProjects();
      }
    }
  });

  // Add a click event listener to close the dialog
  document.addEventListener('click', function (e) {
    if (e.target === contactDialog) {
      contactDialog.style.display = 'none';
      document.body.style.backgroundColor = '';
    }
  });

  cancelButton.addEventListener('click', function () {
    contactDialog.style.display = 'none';
  });

  contactForm.addEventListener('submit', function (e) {
    e.preventDefault();
    const formData = {
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      message: document.getElementById('message').value
    };

    fetch(
        'https://us-west2-personal-website-432623.cloudfunctions.net/sendEmail',
        {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData),
        })
    .then(response => response.text())
    .then(data => {
      alert('Message sent!');
      contactDialog.style.display = 'none';
      contactForm.reset();
    })
    .catch((error) => {
      console.error('Error:', error);
      alert('An error occurred. Please try again.');
    });
  });

  window.addEventListener('click', function (e) {
    if (e.target === contactDialog) {
      contactDialog.style.display = 'none';
    }
  });

  function loadProjects() {
    projectsGrid.innerHTML = '';
    Object.values(projectsData).forEach((project) => {
      const projectSquare = document.createElement('div');
      projectSquare.className = 'project-square';
      projectSquare.innerHTML = `
            <div class="project-square-front">${project.name}</div>
            <div class="project-square-back">
                <h3>${project.name}</h3>
                <p>${project.description}</p>
                <a href="${project.link}" target="_blank">View on GitHub</a>
            </div>
        `;
      projectsGrid.appendChild(projectSquare);
    });
  }

  let currentlyFlippedSquare = null;

  projectsContainer.addEventListener('click', function (e) {
    const clickedSquare = e.target.closest('.project-square');
    const allSquares = document.querySelectorAll('.project-square');

    if (currentlyFlippedSquare) {
      // If clicking outside the flipped square or on another square
      if (!clickedSquare || clickedSquare !== currentlyFlippedSquare) {
        currentlyFlippedSquare.classList.remove('flipped');
        currentlyFlippedSquare.style.zIndex = '';
        projectsContainer.classList.remove('darkened');
        allSquares.forEach(square => {
          square.classList.remove('darkened');
        });
        currentlyFlippedSquare = null;
        if (!clickedSquare) {
          return;
        }
      }
    }

    if (clickedSquare && clickedSquare !== currentlyFlippedSquare) {
      clickedSquare.classList.add('flipped');
      clickedSquare.style.zIndex = '1003';
      projectsContainer.classList.add('darkened');
      allSquares.forEach(square => {
        if (square !== clickedSquare) {
          square.classList.add('darkened');
        }
      });
      currentlyFlippedSquare = clickedSquare;
    }

    // Check if we should switch back to main view
    if (e.target === projectsContainer && !currentlyFlippedSquare) {
      switchToMain();
    }
  });
</script>
</body>

</html>